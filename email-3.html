<!DOCTYPE html>

<html lang="en-GB">
<head>
    <title>You've got mail!</title>
    <link rel="stylesheet" href="./static/main.css">
    <link rel="stylesheet" href="https://unpkg.com/98.css">
    <link rel="icon" type="image/png" href="./media/images/phishingicon.png">
</head>
<body>
<!-- Top Page Banner -->
<div class="window">
  <div class="title-bar">
    <div class="title-bar-text" style="max-width: fit-content; margin-inline: auto;">
      <h1>You've got mail!</h1>
    </div>
  </div>
  <div class="window-body">
    <p>The online phishing minigame.</p>
  </div>
</div>
<!-- 98.css upper tabs -->
<div class="window-body">
    <menu role="tablist" class="multirows">
      <li role="tab"><a href="#tabs">Tutorial</a></li>
      <li role="tab"><a href="#tabs">examples</a></li>
      <li role="tab"><a href="#tabs">scoreboard</a></li>
    </menu>
    <div class="window" role="tabpanel">
      <div class="window-body">
        	
      </div>
    </div>
  </div>

  <div class="wrapper">

    <!-- main email body-->
    <article class="main-email">
      <div class="window" style="width: 100%">
        <div class="title-bar">
          <div class="title-bar-text">Password leak</div>
          <div class="title-bar-controls">
            <button aria-label="Minimize"></button>
            <button aria-label="Maximize"></button>
            <button aria-label="Close"></button>
          </div>
        </div>
        <!-- email content-->
      <div class="email-box">
        <div class="email-header">
          <div class="email-header-from">From: <span>donotreply@bankofscotland</span></div>
          <div class="email-header-to">To: <span>customer</span></div>
          <div class="email-header-date">Date: <span>Today</span></div>
        </div>
        <div class="email-body">
          <p>Dear customer,</p>
          <p>New information regarding how your account is managed is in your indox.</p>
          <p>To view this infromation head over to the Royal bank of scotland Website or log into your mobile banking app.</p>
          <p>For anhy queries head to the FAQ section of the website.</p>
         
          <p>Kind Regards</p>
          <p>The Customer Service Team</p>
        </div> 
      </div>

    </article>

      <!--Aside box table is integrated-->

    <aside class="aside aside-email">
      <div class="sunken-panel" style="height: 100%; width: 100%;">
        <table class="interactive">
          <thead>
            <tr>
              <th>No.</th>
              <th>Subject</th>
              <th>read</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td><a href="email-1.html">Need credentials</a></td>
              <td>☑</td>
            </tr>
            <tr>
              <td>2</td>
              <td><a href="email-2.html">Password leak</a></td>
              <td>☑</td>
            </tr>
            <tr>
              <td>3</td>
              <td><a href="email-3.html">URGENT</a></td>
              <td>☑</td>
            </tr>
            <tr>
              <td>4</td>
              <td><a href="email-4.html">Holiday Photos</a></td>
              <td>☑</td>
            </tr>
            <tr>
              <td>5</td>
              <td><a href="email-5.html">Christmas Party Planning</a></td>
              <td>☑</td>
            </tr>
            <tr>
              <td>6</td>
              <td><a href="email-6.html">Check Engine?</a></td>
              <td>☑</td>
            </tr>
          </tbody>
        </table>
      </div>
    </aside>
  </div>

  <!-- button-->
<div class="button-cont">
    <button id ="button1" class="button button2" type="button1" onclick="openbox()">Smells fishy</button>
    <div id="box" class="box">
	
        <div class="box-content">

		<img src="/media/images/Cross.png" style="width:30px; height:30px; display:inline;">
		<h2 style="display:inline;">Incorrect</h2>
		<img src="/media/images/Cross.png" style="width:30px; height:30px; display:inline;">
           	<p>Unlucky you didn't manage to spot that the email is fake</p>
			
            <button id="closePopup" >Close</button>
        </div>
    </div>

	
      
    <button id ="button2" class="button button2" type="button2" onclick="openbox2()">A OK!</button>
    <div id="box2" class="box2">
   	 <div class="box-content2">  

	        <img src="/media/images/Tick.png" style="width:30px; height:30px; display:inline;">
       		<h2 style="display:inline;">Correct</h2>
		<img src="/media/images/Tick.png" style="width:30px; height:30px; display:inline;">
            	<p>Well done you managed to spot that the email was fake</p>
			
            <button id="closePopup2" onclick="removeButtons()">Close</button>
			
        </div>
	    
	</div>
  </div>
    <div id="message" style= "display: none;">
	<p>Answer has been submitted</p>

</div>
  <script>

  // create a variable for the cookie answer
var cookie_answer = [];

//store cookie in a variable
var cookie = document.cookie;

//extract the cookie value into a dictionary
var previousAnswers = cookie.split("=");

//split the cookie value into each answer
cookie_answer = previousAnswers[1].split(",");
    
    document.getElementById("button1")?.addEventListener("click", button1Function);
    document.getElementById("button2")?.addEventListener("click", button2Function);
    
    function button1Function() {
        cookie_answer.push("A");
        document.cookie = "answers=" + cookie_answer.join(",");
        window.location.href = "email-4.html"
    }
    
    function button2Function() {
        cookie_answer.push("B");
        document.cookie = "answers=" + cookie_answer.join(",");
        window.location.href = "email-4.html"
    }
    function openbox() {
    const openPopup = document.getElementById('button1');
    const closePopup = document.getElementById('closePopup');
    const box = document.getElementById('box');

    openPopup.addEventListener('click', () => {
        box.style.display = 'flex';
    });

    closePopup.addEventListener('click', () => {
        box.style.display = 'none';
        document.getElementById('button1').style.visibility = 'hidden';
        document.getElementById('button2').style.visibility = 'hidden';
        document.getElementById('message').style.display = 'block';
    });

    window.addEventListener('click', (event) => {
        if (event.target === box) {
            box.style.display = 'none';
        }
    });
  }
function openbox2()	{	
    const openPopup2 = document.getElementById('button2');
    const closePopup2 = document.getElementById('closePopup2');
    const box2 = document.getElementById('box2');

    openPopup2.addEventListener('click', () => {
        box2.style.display = 'flex';
    });

    closePopup2.addEventListener('click', () => {
        box2.style.display = 'none';
        document.getElementById('button1').style.visibility = 'hidden';
        document.getElementById('button2').style.visibility = 'hidden';
        document.getElementById('message').style.display = 'block';
    });

        window.addEventListener('click', (event) => {
            if (event.target === box2) {
                box2.style.display = 'none';
            }
        });
  }
    
      </script>
</body>
</html>
